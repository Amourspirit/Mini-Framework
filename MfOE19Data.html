<html>
	
<head>
	<title>Data</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content="">
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/custom.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);

				// http://www.helpndoc.com/sites/default/files/documentation/html/UseindexhtmlasthedefaultHTMLpage.html
				// change top.location.href to point to index.html
				// also comment out '' in index.pas.html to force index.html generation
				//top.location.href = "Mini-Framework.html?" + sTopicUrl;
				top.location.href = "index.html?" + sTopicId
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("MfOE19Data");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	</head>

<body>

<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">Data</h1>
				
				<div id="topic_breadcrumb">
					<a href="NameSapce.html">Namespace</a> &rsaquo;&rsaquo; <a href="NS_System.html">System</a> &rsaquo;&rsaquo; <a href="Exceptions.html">Exceptions</a> &rsaquo;&rsaquo; <a href="MfOE19.html">MfOverflowException</a> &rsaquo;&rsaquo; <a href="MfOE19Properties.html">Properties</a> &rsaquo;&rsaquo; </div>
				</div>
			<div id="topic_header_nav">
				<a href="MfOE19Properties.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				<a href="MfOE19Properties.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				<a href="MfOE19File.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				</div>
			<div class="clear"></div>
		</div>
	<div id="topic_content">
		
<p></p>
<h1 class="rvps11"><span class="rvts0"><span class="rvts27">Data</span></span></h1>
<p class="rvps2"><span class="rvts6">Inherited From </span><a class="rvts12" href="MfException.html">MfException</a></p>
<p class="rvps2"><span class="rvts6">Gets a collection of key/value pairs that provide additional user-defined information about the exception.</span></p>
<p class="rvps20"><span class="rvts48">OutputVar := instance.Data</span></p>
<p class="rvps21"><span class="rvts51">Value</span></p>
<p class="rvps22"><span class="rvts53">Instance of </span><a class="rvts52" href="MfDictionary.html">MfDictionary</a><span class="rvts53">.</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Gets</span></span></h3>
<p class="rvps2"><span class="rvts6">Gets the Data value associated with the this instance as </span><a class="rvts12" href="MfDictionary.html">MfDictionary</a><span class="rvts6"> object.</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Remarks</span></span></h3>
<p class="rvps2"><span class="rvts15">Read-only</span><span class="rvts6"> Property</span></p>
<p class="rvps2"><span class="rvts6">Use the </span><a class="rvts12" href="MfDictionary.html">MfDictionary</a><span class="rvts6"> object returned by the </span><span class="rvts41">Data</span><span class="rvts6"> property to store and retrieve supplementary information relevant to the exception. The information is in the form of an arbitrary number of user-defined key/value pairs. The key component of each key/value pair is typically an identifying string, whereas the value component of the pair can be any type of object. or var.</span></p>
<p class="rvps2"><span class="rvts18">Key/Value Pair Security</span></p>
<p class="rvps16"><span class="rvts6">The key/value pairs stored in the collection returned by the Data property are not secure. If your application calls a nested series of routines, and each routine contains exception handlers, the resulting call stack contains a hierarchy of those exception handlers. If a lower-level routine throws an exception, any upper-level exception handler in the call stack hierarchy can read and/or modify the key/value pairs stored in the collection by any other exception handler. This means you must guarantee that the information in the key/value pairs is not confidential and that your application will operate correctly if the information in the key/value pairs is corrupted.</span></p>
<p class="rvps2"><span class="rvts18">Key Conflicts</span></p>
<p class="rvps16"><span class="rvts6">A key conflict occurs when different exception handlers specify the same key to access a key/value pair. Use caution when developing your application because the consequence of a key conflict is that lower-level exception handlers can inadvertently communicate with higher-level exception handlers, and this communication might cause subtle program errors. However, if you are cautious you can use key conflicts to enhance your application.</span></p>
<p class="rvps2"><span class="rvts18">Avoiding Key Conflicts</span></p>
<p class="rvps16"><span class="rvts6">Avoid key conflicts by adopting a naming convention to generate unique keys for key/value pairs. For example, a naming convention might yield a key that consists of the period-delimited name of your application, the method that provides supplementary information for the pair, and a unique identifier.</span></p>
<p class="rvps16"><span class="rvts6">Suppose two applications, named Products and Suppliers, each has a method named Sales. The Sales method in the Products application provides the identification number (the stock keeping unit or SKU) of a product. The Sales method in the Suppliers application provides the identification number, or SID, of a supplier. Consequently, the naming convention for this example yields the keys, "Products.Sales.SKU" and "Suppliers.Sales.SID".</span></p>
<p class="rvps2"><span class="rvts18">Exploiting Key Conflicts</span></p>
<p class="rvps16"><span class="rvts6">Exploit key conflicts by using the presence of one or more special, prearranged keys to control processing. Suppose, in one scenario, the highest level exception handler in the call stack hierarchy catches all exceptions thrown by lower-level exception handlers. If a key/value pair with a special key exists, the high-level exception handler formats the remaining key/value pairs in the </span><a class="rvts12" href="MfDictionary.html">MfDictionary</a><span class="rvts6"> object in some nonstandard way; otherwise, the remaining key/value pairs are formatted in some normal manner.</span></p>
<p class="rvps16"><span class="rvts6">Now suppose, in another scenario, the exception handler at each level of the call stack hierarchy catches the exception thrown by the next lower-level exception handler. In addition, each exception handler knows the collection returned by the Data property contains a set of key/value pairs that can be accessed with a prearranged set of keys.</span></p>
<p class="rvps16"><span class="rvts6">Each exception handler uses the prearranged set of keys to update the value component of the corresponding key/value pair with information unique to that exception handler. After the update process is complete, the exception handler throws the exception to the next higher-level exception handler. Finally, the highest level exception handler accesses the key/value pairs and displays the consolidated update information from all the lower-level exception handlers.</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Examples</span></span></h3>
<p class="rvps14"><span class="rvts30">RunTest(</span><span class="rvts32">false</span><span class="rvts30">)</span><br/><span class="rvts31">; Message Box Results</span><br/><span class="rvts31">/*</span><br/><span class="rvts31">An exception was thrown.</span><br/><span class="rvts31">This statement is the original exception message.</span><br/><span class="rvts31">Extra details:</span><br/><span class="rvts31">key:'ExtraInfo' Value:'Information from NestedRoutine1.'</span><br/><span class="rvts31">key:'MoreExtraInfo' Value:'More information from NestedRoutine1.'</span><br/><span class="rvts31">*/</span><br/><span class="rvts31"></span><br/><span class="rvts31"></span><br/><span class="rvts30">RunTest(</span><span class="rvts32">true</span><span class="rvts30">)</span><br/><span class="rvts31">; Message Box Results</span><br/><span class="rvts31">/*</span><br/><span class="rvts31">An exception was thrown.</span><br/><span class="rvts31">This statement is the original exception message.</span><br/><span class="rvts31">Extra details:</span><br/><span class="rvts31">key:'DateTimeInfo' Value:'20170120110032'</span><br/><span class="rvts31">key:'ExtraInfo' Value:'Information from NestedRoutine1.'</span><br/><span class="rvts31">key:'IntInfo' Value:'-903'</span><br/><span class="rvts31">key:'MoreExtraInfo' Value:'More information from NestedRoutine1.'</span><br/><span class="rvts31">key:'stringInfo' Value:'Information from NestedRoutine2.'</span><br/><span class="rvts31">*/</span><br/><span class="rvts32"></span><br/><span class="rvts32">ExitApp</span><br/><span class="rvts30"></span><br/><span class="rvts30">RunTest(displayDetails) {</span><br/><span class="rvts30"> &nbsp; _displayDetails := </span><span class="rvts33">MfBool</span><span class="rvts30">.</span><span class="rvts45">GetValue</span><span class="rvts30">(displayDetails)</span><br/><span class="rvts30"> &nbsp; </span><span class="rvts32">try</span><br/><span class="rvts30"> &nbsp; {</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;NestedRoutine1(_displayDetails)</span><br/><span class="rvts30"> &nbsp; }</span><br/><span class="rvts30"> &nbsp; </span><span class="rvts32">catch</span><span class="rvts30"> e</span><br/><span class="rvts30"> &nbsp; {</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;strErr := </span><span class="rvts32">new</span><span class="rvts30"> </span><span class="rvts33">MfString</span><span class="rvts30">(</span><span class="rvts42">"An exception was thrown."</span><span class="rvts30">)</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;strErr.</span><span class="rvts45">AppendLine</span><span class="rvts30">()</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;strErr.</span><span class="rvts45">Append</span><span class="rvts30">(e.</span><span class="rvts34">Message</span><span class="rvts30">)</span><br/><span class="rvts30"></span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;</span><span class="rvts32">if</span><span class="rvts30"> (e.</span><span class="rvts34">Data</span><span class="rvts30">.</span><span class="rvts34">Count</span><span class="rvts30"> &gt; 0)</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;{</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; sData := new </span><span class="rvts33">MfString</span><span class="rvts30">()</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; sData.</span><span class="rvts45">AppendLine</span><span class="rvts30">(</span><span class="rvts42">"Extra details:"</span><span class="rvts30">)</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; i := 0</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts32">for</span><span class="rvts30"> key, de </span><span class="rvts32">in</span><span class="rvts30"> e.</span><span class="rvts34">Data</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; {</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts32">if</span><span class="rvts30"> (i &lt; (e.</span><span class="rvts34">Data</span><span class="rvts30">.</span><span class="rvts34">Count </span><span class="rvts30">-</span><span class="rvts72">1</span><span class="rvts30">))</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sData.</span><span class="rvts45">AppendLine</span><span class="rvts30">(</span><span class="rvts33">MfString</span><span class="rvts30">.</span><span class="rvts45">Format</span><span class="rvts30">(</span><span class="rvts42">"key:'{0}' Value:'{1}'"</span><span class="rvts30">, key, de))</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sData.</span><span class="rvts45">Append</span><span class="rvts30">(</span><span class="rvts33">MfString</span><span class="rvts30">.</span><span class="rvts45">Format</span><span class="rvts30">(</span><span class="rvts42">"key:'{0}' Value:'{1}'"</span><span class="rvts30">, key, de))</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;i++</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; }</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; strErr.</span><span class="rvts45">AppendLine</span><span class="rvts30">()</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp; &nbsp; strErr.</span><span class="rvts45">Append</span><span class="rvts30">(sData)</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;}</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;</span><span class="rvts32">MsgBox</span><span class="rvts30"> % strErr.</span><span class="rvts34">Value</span><br/><span class="rvts30"> &nbsp; }</span><br/><span class="rvts30">}</span><br/><span class="rvts30"></span><br/><span class="rvts30">NestedRoutine1(displayDetails) {</span><br/><span class="rvts30"> &nbsp; _displayDetails := </span><span class="rvts33">MfBool</span><span class="rvts30">.</span><span class="rvts45">GetValue</span><span class="rvts30">(displayDetails)</span><br/><span class="rvts30"> &nbsp; </span><span class="rvts32">try</span><br/><span class="rvts30"> &nbsp; {</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;NestedRoutine2(_displayDetails)</span><br/><span class="rvts30"> &nbsp; }</span><br/><span class="rvts30"> &nbsp; </span><span class="rvts32">catch</span><span class="rvts30"> e</span><br/><span class="rvts30"> &nbsp; {</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;e.</span><span class="rvts34">Data</span><span class="rvts30">.</span><span class="rvts34">Item</span><span class="rvts30">[</span><span class="rvts42">"ExtraInfo"</span><span class="rvts30">] := </span><span class="rvts42">"Information from NestedRoutine1."</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;e.</span><span class="rvts34">Data</span><span class="rvts30">.</span><span class="rvts45">Add</span><span class="rvts30">(</span><span class="rvts42">"MoreExtraInfo"</span><span class="rvts30">, </span><span class="rvts42">"More information from NestedRoutine1."</span><span class="rvts30">)</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;</span><span class="rvts32">throw</span><span class="rvts30"> e</span><br/><span class="rvts30"> &nbsp; }</span><br/><span class="rvts30">}</span><br/><span class="rvts30"></span><br/><span class="rvts30">NestedRoutine2(displayDetails) {</span><br/><span class="rvts30"> &nbsp; _displayDetails := </span><span class="rvts33">MfBool</span><span class="rvts30">.</span><span class="rvts45">GetValue</span><span class="rvts30">(displayDetails)</span><br/><span class="rvts30"> &nbsp; e := new </span><span class="rvts33">MfException</span><span class="rvts30">(</span><span class="rvts42">"This statement is the original exception message."</span><span class="rvts30">)</span><br/><span class="rvts30"> &nbsp; </span><span class="rvts32">if</span><span class="rvts30"> (_displayDetails)</span><br/><span class="rvts30"> &nbsp; {</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;s := </span><span class="rvts42">"Information from NestedRoutine2."</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;i := -</span><span class="rvts72">903</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;dt := </span><span class="rvts32">A_Now</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;e.</span><span class="rvts34">Data</span><span class="rvts30">.</span><span class="rvts45">Add</span><span class="rvts30">(</span><span class="rvts42">"stringInfo"</span><span class="rvts30">, s)</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;e.</span><span class="rvts34">Data</span><span class="rvts30">.</span><span class="rvts34">Item</span><span class="rvts30">[</span><span class="rvts42">"IntInfo"</span><span class="rvts30">] := i</span><br/><span class="rvts30"> &nbsp; &nbsp; &nbsp;e.</span><span class="rvts34">Data</span><span class="rvts30">.</span><span class="rvts34">Item</span><span class="rvts30">[</span><span class="rvts42">"DateTimeInfo"</span><span class="rvts30">] := dt</span><br/><span class="rvts30"> &nbsp; }</span><br/><span class="rvts30"> &nbsp; </span><span class="rvts32">throw</span><span class="rvts30"> e</span><br/><span class="rvts30">}</span></p>
</div>
	
	<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; 2013-2017  by Paul Moss. All Rights Reserved.</div>
		</div>
	</body>
	
</html>

