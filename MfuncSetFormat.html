<html>
	
<head>
	<title>SetFormat()</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content="Format, Number, SetFormat">
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/custom.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);

				// http://www.helpndoc.com/sites/default/files/documentation/html/UseindexhtmlasthedefaultHTMLpage.html
				// change top.location.href to point to index.html
				// also comment out '' in index.pas.html to force index.html generation
				//top.location.href = "Mini-Framework.html?" + sTopicUrl;
				top.location.href = "index.html?" + sTopicId
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("MfuncSetFormat");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	</head>

<body>

<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">SetFormat()</h1>
				
				<div id="topic_breadcrumb">
					<a href="NameSapce.html">Namespace</a> &rsaquo;&rsaquo; <a href="NS_System.html">System</a> &rsaquo;&rsaquo; <a href="Mfunc.html">Mfunc</a> &rsaquo;&rsaquo; <a href="MfuncMethods.html">Methods</a> &rsaquo;&rsaquo; </div>
				</div>
			<div id="topic_header_nav">
				<a href="MfuncMethods.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				<a href="MfuncSecondsPassed.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				<a href="MfuncSoundGet.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				</div>
			<div class="clear"></div>
		</div>
	<div id="topic_content">
		
<p></p>
<h1 class="rvps11"><span class="rvts0"><span class="rvts27">SetFormat()</span></span></h1>
<p class="rvps20"><span class="rvts48">OutputVar := Mfunc.SetFormat(NumberType, Format)</span></p>
<h2 class="rvps5"><span class="rvts0"><span class="rvts16">Mfunc.SetFormat(NumberType, Format)</span></span></h2>
<p class="rvps2"><span class="rvts6">Sets the format of integers and floating point numbers generated by math operations and returns the previous format.</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Parameters</span></span></h3>
<p class="rvps21"><span class="rvts51">NumberType</span></p>
<p class="rvps22"><span class="rvts53">Must be one of the enumeration items of </span><a class="rvts52" href="MfSFNT.html">MfSetFormatNumberType</a><span class="rvts53">. Can be passed in as Instance of </span><a class="rvts52" href="MfSFNT.html">MfSetFormatNumberType</a><span class="rvts53">, </span><a class="rvts52" href="MfSFNTInstance.html">MfSetFormatNumberType.Instance</a><span class="rvts53">.</span><span class="rvts94">[EnumItem]</span><span class="rvts53">, integer matching &nbsp;enumeration item values of </span><a class="rvts52" href="MfSFNT.html">MfSetFormatNumberType</a><span class="rvts53"> or string matching one of the enumeration item names </span><a class="rvts52" href="MfSFNT.html">MfSetFormatNumberType</a><span class="rvts53">.</span></p>
<p class="rvps21"><span class="rvts51">Format</span></p>
<p class="rvps22"><span class="rvts53">For NumberType Integer or IntegerFast, specify H or HEX for hexadecimal, or D for decimal. Hexadecimal numbers all start with the prefix 0x (e.g. 0xFF). </span><span class="rvts95">AutoHotkey [v1.0.90+]:</span><span class="rvts53"> Hexadecimal integers are formatted with digits A-F in lowercase when this parameter is h and uppercase when it is H.</span><br/><span class="rvts53"></span><br/><span class="rvts53">For NumberType Float or FloatFast, specify TotalWidth.DecimalPlaces (e.g. 0.6). In v1.0.46.11+, the letter "e" may be appended to produce scientific notation; e.g. 0.6e or 0.6E (using uppercase produces an uppercase E in each number instead of lowercase). Note: In AutoHotkey 1.x, scientific notation must include a decimal point; e.g. 1.0e1 is valid but not 1e1.</span><br/><span class="rvts53"></span><br/><span class="rvts53">TotalWidth is typically 0 to indicate that number should not have any blank or zero padding. If a higher value is used, numbers will be padded with spaces or zeroes (see remarks) to make them that wide.</span><br/><span class="rvts53"></span><br/><span class="rvts53">DecimalPlaces is the number of decimal places to display (rounding will occur). If blank or zero, neither a decimal portion nor a decimal point will be displayed, that is, floating point results are displayed as integers rather than a floating point number. The starting default is 6.</span><br/><span class="rvts53"></span><br/><span class="rvts53">Padding: If TotalWidth is high enough to cause padding, spaces will be added on the left side; that is, each number will be right-justified. To use left-justification instead, precede TotalWidth with a minus sign. To pad with zeroes instead of spaces, precede TotalWidth with a zero (e.g. 06.2).</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Returns</span></span></h3>
<p class="rvps2"><span class="rvts6">Returns the Format the previous format as string var.</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Fast vs. Slow Mode</span></span></h3>
<p class="rvps2"><span class="rvts6">In </span><span class="rvts41">AutoHotKey</span><span class="rvts6"> </span><span class="rvts41">[v1.0.48+]</span><span class="rvts6">, IntegerFast may be used instead of Integer, and FloatFast may be used instead of Float.</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts18">Advantages</span><span class="rvts6">: The fast mode preserves the ability of variables to cache integers and floating point numbers, which substantially accelerates numerically-intensive operations. (By contrast, the slow mode forces all numeric results to be immediately converted and stored as strings.)</span></li>
<li class="rvps2"><span class="rvts18">Disadvantages</span><span class="rvts6">: When storing a number in a variable, the fast mode delays the effects of SetFormat until the script actually needs a text/string version of that variable (e.g. to display in a </span><a class="rvts13" href="http://ahkscript.org/docs/commands/MsgBox.htm" target="_blank">MsgBox</a><span class="rvts6">). Since a different SetFormat may be in effect at that time (e.g. more or fewer decimal places), this can lead to unexpected results. To make the current fast format take effect immediately, use an operation like HexValue .= "", which appends an empty string to the number currently stored in HexValue.</span></li>
</ul>
<p class="rvps2"><span class="rvts6">If the slow mode "Integer" or "Float" is used anywhere in the script, even if that SetFormat line is never executed, the caching of integers or floating point numbers (respectively) is disabled the moment the script launches.</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Floating Point Format</span></span></h3>
<p class="rvps2"><span class="rvts6">In </span><span class="rvts41">AutoHotKey [v1.0.48+]</span><span class="rvts6">, floating point variables have about 15 digits of precision internally unless </span><span class="rvts43">SetFormat Float</span><span class="rvts6"> (i.e. the slow mode) is present anywhere in the script. In that case, the stored precision of floating point numbers is determined by </span><a class="rvts13" href="http://ahkscript.org/docs/commands/SetFormat.htm#DecimalPlaces" target="_blank">DecimalPlaces</a><span class="rvts6"> </span><span class="rvts41">(like it was in [AutoHotkye pre-1.0.48] versions)</span><span class="rvts6">. In other words, once a floating point result is stored in a variable, the extra precision is lost and cannot be reclaimed without redoing the calculation with something like</span><span class="rvts43"> Mfunc.SetFormat("Float", 0.15)</span><span class="rvts6">. To avoid this loss of precision, avoid using </span><span class="rvts43">SetFormat Float</span><span class="rvts6"> anywhere in the script, or use </span><span class="rvts43">SetFormat FloatFast</span><span class="rvts6"> instead.</span></p>
<p class="rvps2"><span class="rvts6">Regardless of whether slow or fast mode is in effect, floating point results and variables are rounded off to </span><a class="rvts13" href="http://ahkscript.org/docs/commands/SetFormat.htm#DecimalPlaces" target="_blank">DecimalPlaces</a><span class="rvts6"> whenever they are displayed or converted to a string of text (e.g. </span><a class="rvts13" href="http://ahkscript.org/docs/commands/MsgBox.htm" target="_blank">MsgBox</a><span class="rvts6"> or </span><a class="rvts13" href="http://ahkscript.org/docs/commands/FileAppend.htm" target="_blank">FileAppend</a><span class="rvts6">). To see the full precision, use something like </span><span class="rvts43">Mfunc.SetFormat("FloatFast", 0.15)</span><span class="rvts6">.</span></p>
<p class="rvps2"><span class="rvts6">To convert a floating point number to an integer, use </span><span class="rvts43">Var:=Round(Var)</span><span class="rvts6">, </span><span class="rvts43">Var:=Floor(Var)</span><span class="rvts6">, or</span><span class="rvts43"> Var:=Ceil(Var)</span><span class="rvts6">. To convert an integer to a floating point number, add 0.0 to it (e.g. Var+=0.0) or use something like </span><span class="rvts43">MyFloat:=Round(MyInteger, 1)</span><span class="rvts6">.</span></p>
<p class="rvps2"><span class="rvts6">The built-in variable </span><span class="rvts18">A_FormatFloat</span><span class="rvts6"> contains the current floating point format (e.g. 0.6).</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Integer Format</span></span></h3>
<p class="rvps2"><span class="rvts6">Integer results are normally displayed as decimal, not hexadecimal. To switch to hexadecimal, use </span><span class="rvts43">Mfunc.SetFormat("IntegerFast", "Hex")</span><span class="rvts6">. This may also be used to convert an integer from decimal to hexadecimal (or vice versa) as shown in the example at the very bottom of this page.</span></p>
<p class="rvps2"><span class="rvts6">Literal integers specified in a script may be written as either hexadecimal or decimal. Hexadecimal integers all start with the prefix 0x (e.g. 0xA9). They may be used anywhere a numerical value is expected. For example, Sleep 0xFF is equivalent to Sleep 255 regardless of the current integer format set by SetFormat.</span></p>
<p class="rvps2"><span class="rvts6">AutoHotkey supports 64-bit signed integers, which range from -9223372036854775808 (-0x8000000000000000) to 9223372036854775807 (0x7FFFFFFFFFFFFFFF).</span></p>
<p class="rvps2"><span class="rvts6">The built-in variable </span><span class="rvts18">A_FormatInteger</span><span class="rvts6"> contains the current integer format (H or D).</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">General Remarks</span></span></h3>
<p class="rvps2"><span class="rvts6">Wrapper for </span><a class="rvts13" href="http://ahkscript.org/docs/commands/SetFormat.htm" target="_blank">AutoHotkey Docs - SetFormat</a><span class="rvts6">.</span><br/><span class="rvts15">Static method.</span></p>
<p class="rvps2"><span class="rvts6">If SetFormat is not used in a script, integers default to decimal format, and floating point numbers default to TotalWidth.DecimalPlaces = 0.6. Every newly launched </span><a class="rvts13" href="http://ahkscript.org/docs/misc/Threads.htm" target="_blank">thread</a><span class="rvts6"> (such as a </span><a class="rvts13" href="http://ahkscript.org/docs/Hotkeys.htm" target="_blank">hotkey</a><span class="rvts6">, </span><a class="rvts13" href="http://ahkscript.org/docs/commands/Menu.htm" target="_blank">custom menu item</a><span class="rvts6">, or </span><a class="rvts13" href="http://ahkscript.org/docs/commands/SetTimer.htm" target="_blank">timed</a><span class="rvts6"> subroutine) starts off fresh with these defaults; but the defaults may be changed by using SetFormat in the auto-execute section (top part of the script).</span></p>
<p class="rvps2"><span class="rvts6">An old-style assignment like x=%y% omits any leading or trailing spaces (i.e. padding). To avoid this, use </span><a class="rvts13" href="http://ahkscript.org/docs/commands/AutoTrim.htm" target="_blank">AutoTrim</a><span class="rvts6"> or the </span><a class="rvts13" href="http://ahkscript.org/docs/commands/SetExpression.htm" target="_blank">colon-equals operator</a><span class="rvts6"> (e.g. x:=y).</span></p>
<p class="rvps2"><span class="rvts6">You can determine whether a variable contains a numeric value by using "</span><a class="rvts13" href="http://ahkscript.org/docs/commands/IfIs.htm" target="_blank">if var is number/integer/float</a><span class="rvts6">"</span></p>
<p class="rvps2"><span class="rvts6">To pad an integer with zeros or spaces without having to use floating point math on it, follow this example:</span></p>
<p class="rvps14"><span class="rvts30">Var := </span><span class="rvts42">" "</span><span class="rvts30"> . Var </span><span class="rvts31">; The quotes contain 10 spaces. To pad with zeros, substitute zeros for the spaces.</span><br/><span class="rvts32">StringRight</span><span class="rvts30">, Var, Var, </span><span class="rvts72">10</span><span class="rvts30"> </span><span class="rvts31">; This pads the number in Var with enough spaces to make its total width 10 characters.</span><br/><span class="rvts30">Var := </span><span class="rvts45">SubStr</span><span class="rvts30">(</span><span class="rvts42">" "</span><span class="rvts30"> . Var, -</span><span class="rvts72">9</span><span class="rvts30">) </span><span class="rvts31">; A single-line alternative to the above two lines.</span></p>
<p class="rvps2"><span class="rvts6">See Also:</span><a class="rvts13" href="http://ahkscript.org/docs/commands/SetFormat.htm" target="_blank">AutoHotkey Docs - SetFormat</a><span class="rvts6">.</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Throws</span></span></h3>
<p class="rvps2"><span class="rvts6">Throws </span><a class="rvts12" href="MfANE23.html">MfArgumentNullException</a><span class="rvts6"> if NumberType or Format is null.</span><br/><span class="rvts6">Throws </span><a class="rvts12" href="MfAE19.html">MfArgumentException</a><span class="rvts6"> if there are errors with the Parameters.</span><br/><span class="rvts6">Throws </span><a class="rvts12" href="MfException.html">MfException</a><span class="rvts6"> if there is any other errors.</span></p>
<h3 class="rvps6"><span class="rvts0"><span class="rvts17">Example</span></span></h3>
<p class="rvps14"><span class="rvts30">objFloat := </span><span class="rvts32">new</span><span class="rvts30"> </span><span class="rvts33">MfFloat</span><span class="rvts30">(</span><span class="rvts72">11.333333</span><span class="rvts30">) </span><span class="rvts31">; default format is 0.6</span><br/><span class="rvts30"></span><br/><span class="rvts30">objFloat.</span><span class="rvts34">Format</span><span class="rvts30"> := </span><span class="rvts42">"6.2"</span><br/><span class="rvts30">varPreviousFormat := </span><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts33">MfSetFormatNumberType</span><span class="rvts30">.</span><span class="rvts34">Instance</span><span class="rvts30">.</span><span class="rvts34">FloatFast</span><span class="rvts30">, objFloat.</span><span class="rvts34">Format</span><span class="rvts30">) </span><span class="rvts31">; set Format for FloatFast</span><br/><span class="rvts30">objFloat.</span><span class="rvts34">Value</span><span class="rvts30"> -=</span><span class="rvts72">1</span><span class="rvts30"> </span><span class="rvts31">; Sets objFloat.Value to be 10.33 with one leading space because the total width is 6.</span><br/><span class="rvts30"></span><br/><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts72">4</span><span class="rvts30">, objFloat.</span><span class="rvts34">Format</span><span class="rvts30">) </span><span class="rvts31">; set Format for FloatFast</span><br/><span class="rvts30">objFloat.</span><span class="rvts34">Value</span><span class="rvts30"> += </span><span class="rvts72">1</span><span class="rvts30"> </span><span class="rvts31">; Sets objFloat.Value to be 11.33 with no leading spaces.</span><br/><span class="rvts30"></span><br/><span class="rvts30">objFloat.</span><span class="rvts34">Format</span><span class="rvts30"> := </span><span class="rvts42">"06.0"</span><br/><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts72">4</span><span class="rvts30">, objFloat.</span><span class="rvts34">Format</span><span class="rvts30">) </span><span class="rvts31">; Sets format for FloatFast</span><br/><span class="rvts30">objFloat.</span><span class="rvts34">Value</span><span class="rvts30"> += </span><span class="rvts72">0</span><span class="rvts30"> &nbsp;</span><span class="rvts31">; Sets objFloat.Value to be 000011</span><br/><span class="rvts30"></span><br/><span class="rvts31">; reset the previous FloatFast format</span><br/><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts72">4</span><span class="rvts30">, varPreviousFormat)</span><br/><span class="rvts30"></span><br/><span class="rvts31">;-----------------------------------------------------------------------------</span><br/><span class="rvts30">Var := </span><span class="rvts72">11.333333</span><br/><span class="rvts30"></span><br/><span class="rvts30">varPreviousFormat := </span><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts33">MfSetFormatNumberType</span><span class="rvts30">.</span><span class="rvts34">Instance</span><span class="rvts30">.</span><span class="rvts34">Float</span><span class="rvts30">, </span><span class="rvts42">"6.2"</span><span class="rvts30">) </span><span class="rvts31">; set Format for Float</span><br/><span class="rvts30">Var -= </span><span class="rvts72">1</span><span class="rvts30"> &nbsp;</span><span class="rvts31">; Sets Var to be 10.33 with one leading space because the total width is 6.</span><br/><span class="rvts30"></span><br/><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts42">"Float"</span><span class="rvts30">, </span><span class="rvts42">"6.2"</span><span class="rvts30">) </span><span class="rvts72">; sets format for Float</span><br/><span class="rvts30">Var += </span><span class="rvts72">1</span><span class="rvts30"> &nbsp;</span><span class="rvts72">; Sets Var to be 11.33 with no leading spaces.</span><br/><span class="rvts30"></span><br/><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts72">3</span><span class="rvts30">, </span><span class="rvts42">"06.0"</span><span class="rvts30">) </span><span class="rvts72">; Sets format for Float</span><br/><span class="rvts30">Var += </span><span class="rvts72">0</span><span class="rvts30"> &nbsp;</span><span class="rvts72">; Sets Var to be 000011</span><br/><span class="rvts30"></span><br/><span class="rvts31">; reset the previous Float format</span><br/><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts33">MfSetFormatNumberType</span><span class="rvts30">.</span><span class="rvts34">Instance</span><span class="rvts30">.</span><span class="rvts34">Float</span><span class="rvts30">, varPreviousFormat)</span><br/><span class="rvts30"></span><br/><span class="rvts31">; Convert a decimal integer to hexadecimal:</span><br/><span class="rvts30">varPreviousFormat := </span><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts33">MfSetFormatNumberType</span><span class="rvts30">.</span><span class="rvts34">Instance</span><span class="rvts30">.</span><span class="rvts34">IntegerFast</span><span class="rvts30">, </span><span class="rvts42">"H"</span><span class="rvts30">) </span><span class="rvts31">; set Format for IntegerFast</span><br/><span class="rvts30">Var += </span><span class="rvts72">0</span><span class="rvts30"> &nbsp;</span><span class="rvts31">; Sets Var (which previously contained 11) to be 0xB.</span><br/><span class="rvts30">Var .= </span><span class="rvts42">""</span><span class="rvts30"> &nbsp;</span><span class="rvts31">; Necessary due to the "fast" mode.</span><br/><span class="rvts30"></span><br/><span class="rvts33">Mfunc</span><span class="rvts30">.</span><span class="rvts45">SetFormat</span><span class="rvts30">(</span><span class="rvts33">MfSetFormatNumberType</span><span class="rvts30">.</span><span class="rvts34">Instance</span><span class="rvts30">.</span><span class="rvts34">IntegerFast</span><span class="rvts30">, varPreviousFormat) </span><span class="rvts31">; reset to previous format</span></p>
</div>
	
	<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; 2013-2017  by Paul Moss. All Rights Reserved.</div>
		</div>
	</body>
	
</html>

